---
phase: 01-core-quiz
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - data/questions.json
  - quiz.py
autonomous: true

must_haves:
  truths:
    - "User can start a quiz session"
    - "User sees one question at a time with numbered options"
    - "User can enter their answer choice"
    - "User sees if they were correct or incorrect"
    - "User sees the explanation after answering"
    - "User can complete all 33 questions"
  artifacts:
    - path: "data/questions.json"
      provides: "All 33 quiz questions with options, answers, explanations"
      contains: "Quiz 1"
    - path: "quiz.py"
      provides: "CLI quiz runner"
      min_lines: 50
  key_links:
    - from: "quiz.py"
      to: "data/questions.json"
      via: "json.load"
      pattern: "json\\.load.*questions"
---

<objective>
Build a working CLI quiz tool that loads 33 molecular genetics questions and quizzes the user with immediate feedback.

Purpose: Enable active recall study for an exam in 2 days â€” the user needs to test themselves on Quiz 1 & Quiz 2 content.

Output: A runnable `quiz.py` that presents questions, accepts answers, and shows explanations.
</objective>

<context>
@.planning/PROJECT.md
@.planning/REQUIREMENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create question data file</name>
  <files>data/questions.json</files>
  <action>
Create a JSON file containing all 33 questions from Quiz 1 and Quiz 2.

Structure each question as:
```json
{
  "id": "q1-01",
  "quiz": "Quiz 1",
  "topic": "DNA Structure",
  "question": "The question text...",
  "options": ["A) option1", "B) option2", "C) option3", "D) option4"],
  "correct": "B",
  "explanation": "Why B is correct..."
}
```

Quiz 1 (16 questions) topics:
- DNA structure (bases, backbone, 5'/3' ends, grooves, chromatin)
- DNA replication (enzymes, leading/lagging, Okazaki fragments, proofreading, telomerase)
- PCR (primer design, exponential amplification, Taq polymerase)
- Sanger sequencing (ddNTPs, chain termination)

Quiz 2 (17 questions) topics:
- Transcription vs replication
- Translation (start/stop codons, reading frames)
- Gene regulation (cis/trans elements, transcription factors)
- Lac operon (CAP, repressor, glucose/lactose conditions)
- Mutations (silent, missense, nonsense)
- RNA types and RNAi

NOTE: The user has provided the actual quiz content. Use the exact questions, options, and explanations from their source material. If the specific question content is not available in context, create placeholder questions on these topics that the user can replace with their actual content.
  </action>
  <verify>
    - File exists at data/questions.json
    - JSON is valid: `python -c "import json; json.load(open('data/questions.json'))"`
    - Contains 33 questions: `python -c "import json; q=json.load(open('data/questions.json')); print(len(q))"`
  </verify>
  <done>
    - data/questions.json contains 33 properly structured question objects
    - Each question has id, quiz, topic, question, options, correct, explanation
  </done>
</task>

<task type="auto">
  <name>Task 2: Build CLI quiz runner</name>
  <files>quiz.py</files>
  <action>
Create a Python CLI script that runs an interactive quiz session.

Features:
1. Load questions from data/questions.json
2. Shuffle questions for each session (use random.shuffle)
3. Display one question at a time with format:
   ```
   Question 1/33 [DNA Structure]

   What is the function of DNA polymerase III?

   A) Unwinds the double helix
   B) Synthesizes new DNA strand
   C) Joins Okazaki fragments
   D) Removes RNA primers

   Your answer (A/B/C/D):
   ```
4. Accept user input (case-insensitive, validate A-D or 1-4)
5. Show result immediately:
   ```
   CORRECT!

   Explanation: DNA polymerase III is the main enzyme...

   Press Enter to continue...
   ```
   or
   ```
   INCORRECT. The correct answer was B.

   Explanation: DNA polymerase III is the main enzyme...

   Press Enter to continue...
   ```
6. Track score throughout (show "Score: 5/10" after each question)
7. At end, show final score and percentage

Keep it simple:
- No external dependencies (stdlib only: json, random, os)
- Clear the screen between questions (os.system('cls' on Windows, 'clear' on Unix)
- Handle Ctrl+C gracefully (show score and exit)

Do NOT use:
- argparse (not needed for this simple tool)
- Any external packages
  </action>
  <verify>
    - Run quiz: `python quiz.py` and answer 2-3 questions manually
    - Verify questions display with options
    - Verify correct/incorrect feedback shows
    - Verify explanation appears after each answer
    - Ctrl+C exits gracefully
  </verify>
  <done>
    - quiz.py runs without errors
    - Questions load from JSON file
    - User can answer questions and see feedback
    - Score is tracked and displayed
    - Full quiz session completable
  </done>
</task>

</tasks>

<verification>
Run complete verification:

1. Start quiz: `python quiz.py`
2. Answer at least 5 questions (mix of correct and incorrect)
3. Verify:
   - Questions appear one at a time
   - Options are clearly labeled
   - Correct answers show "CORRECT" + explanation
   - Incorrect answers show correct answer + explanation
   - Score updates after each question
4. Complete full quiz or Ctrl+C to exit
5. Verify final score displays correctly
</verification>

<success_criteria>
- [ ] All 33 questions loadable from data/questions.json
- [ ] Quiz presents questions one at a time with numbered options
- [ ] User input accepted and validated
- [ ] Immediate feedback (correct/incorrect) after each answer
- [ ] Explanation shown after each answer
- [ ] Running score displayed
- [ ] Full quiz session completable
- [ ] Requirements covered: QUIZ-01, QUIZ-02, QUIZ-03
</success_criteria>

<output>
After completion, create `.planning/phases/01-core-quiz/01-01-SUMMARY.md`
</output>
